{"version":3,"sources":["webpack:///./src/App.jsx","webpack:///./src/style.scss?f8f3","webpack:///./src/style.scss","webpack:///./src/MatchList.jsx","webpack:///./src/Faceit.js"],"names":["React","require","render","Atom","R","Kefir","U","FaceitClient","MatchList","Search","_ref","selection","nameInput","selectedIndex","searchResults","filter","lengthAtLeast","debounce","flatMapLatest","name","searchPlayer","map","prop","toProperty","onValue","set","combine","idx","results","path","playerId","hasResults","complement","isEmpty","upsAndDowns","bus","e","mod","key","dec","inc","min","max","length","func","modify","inputRef","ref","focus","createElement","className","type","value","onKeyDown","includes","preventDefault","persist","push","onChange","getProps","ifElse","onMouseDown","get","mapElems","x","selected","equals","onClick","cns","when","view","PlayerDetails","_ref2","player","getPlayer","loading","src","n","compose","lte","selectedPlayer","Fragment","document","getElementById","content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","Match","match","matchId","getMatch","team1","team2","winOrLoss","identity","myTeam","teams","faction1","roster","winner","TeamName","mkTeamName","team","thru","_ref3","isHomeTeam","matches","getHistory","mapElemsWithIds","id","apiKey","_classCallCheck","this","base","authHeaders","Authorization","concat","nickname","callApi","limit","game","method","params","url","mkQueryString","fromPromise","fetch","headers","then","_","json","paramObject","searchParams","URLSearchParams","Object","entries","forEach","_slicedToArray","append","String","toString"],"mappings":"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","file":"0.bundle.cabeb0bcfb2764ff42d3.js","sourcesContent":["const React = require(\"karet\")\nconst {render} = require(\"react-dom\")\nconst {Atom} = require(\"kefir.atom\")\nconst R = require(\"ramda\")\nconst Kefir = require(\"kefir\")\nconst U = require(\"karet.util\")\n\nrequire(\"./style.scss\")\n\nconst FaceitClient = require(\"./Faceit.js\")\nconst MatchList = require(\"./MatchList.jsx\")\n\nconst App = () => {\n  const selectedPlayer = new Atom(\"\")\n\n  return (\n    <React.Fragment>\n      <Search selection={selectedPlayer} />\n      <div className=\"main-content\">\n        {U.ifElse(selectedPlayer,\n          <PlayerDetails selection={selectedPlayer} />,\n          <p>Select a player from search results</p>)}\n      </div>\n    </React.Fragment>\n  )\n}\nconst Search = ({selection}) => {\n  const nameInput = new Atom(\"\")\n  const selectedIndex = new Atom(0)\n\n  const searchResults = nameInput\n    .filter(lengthAtLeast(3))\n    .debounce(250)\n    .flatMapLatest(name => FaceitClient.searchPlayer(name))\n    .map(R.prop(\"items\"))\n    .toProperty(() => [])\n\n  // Select first result automatically\n  searchResults.onValue(() => selectedIndex.set(0))\n\n  Kefir.combine(\n    [selectedIndex, searchResults],\n    (idx, results) => R.path([idx, \"player_id\"], results)\n  ).onValue(playerId => selection.set(playerId))\n\n  const hasResults = searchResults.map(R.complement(R.isEmpty))\n\n  const upsAndDowns = U.bus()\n  const onKeyDown = e => {\n    if ([\"ArrowDown\", \"ArrowUp\"].includes(e.key)) {\n      e.preventDefault()\n      e.persist()\n      upsAndDowns.push(e)\n    }\n  }\n  Kefir.combine([upsAndDowns, searchResults], (e, results) => {\n    const mod = e.key === \"ArrowUp\" ? R.dec : R.inc\n    return idx => R.min(R.max(0, mod(idx)), results.length - 1)\n  }).onValue(func => selectedIndex.modify(func))\n\n  // Reference to input to keep focus on it\n  const inputRef = new Atom()\n  inputRef.onValue(ref => ref.focus())\n\n  return <div className=\"search-form\">\n    <input\n      ref={U.set(inputRef)}\n      type=\"text\"\n      value={nameInput}\n      onKeyDown={onKeyDown}\n      onChange={U.getProps({value: nameInput})} />\n\n    {U.ifElse(hasResults,\n      <ul onMouseDown={e => {\n        e.preventDefault()\n        inputRef.get().focus()\n      }}>\n        {U.mapElems((x, idx) => {\n          const selected = selectedIndex.map(R.equals(idx))\n          return (\n            <li key={idx} onClick={() => selectedIndex.set(idx)} className={U.cns(U.when(selected, \"selected\"))}>\n              {U.view(\"nickname\", x)}\n            </li>\n          )\n        }, searchResults)}\n      </ul>,\n      <p>No results</p>)}\n  </div>\n}\n\nconst PlayerDetails = ({selection}) => {\n  const player = selection.debounce(500)\n    .flatMapLatest(playerId => FaceitClient.getPlayer(playerId))\n    .toProperty(() => undefined)\n\n  const loading = Kefir.combine(\n    [selection, player.map(R.prop(\"player_id\"))],\n    R.complement(R.equals)\n  )\n\n  return <div className=\"player-details\">\n    {U.ifElse(loading,\n      <p>Loading...</p>,\n      <div>\n        <h2>{U.view(\"nickname\", player)} ({U.view(\"country\", player)})</h2>\n        <img className=\"player-avatar\" src={U.view(\"avatar\", player)} />\n        <table>\n          <tbody>\n            <tr><td>Player ID</td><td>{U.view(\"player_id\", player)}</td></tr>\n            <tr><td>Country</td><td>{U.view(\"country\", player)}</td></tr>\n            {U.when(player.map(R.path([\"platforms\", \"steam\"])),\n              <tr><td>Steam ID</td><td>{U.view([\"platforms\", \"steam\"], player)}</td></tr>)}\n            {U.when(player.map(R.path([\"games\", \"csgo\", \"faceit_elo\"])),\n              <tr><td>CSGO elo</td><td>{U.view([\"games\", \"csgo\", \"faceit_elo\"], player)}</td></tr>)}\n          </tbody>\n        </table>\n\n        <MatchList playerId={U.view(\"player_id\", player)} />\n      </div>,\n    )}\n  </div>\n}\n\nconst lengthAtLeast = n => R.compose(R.lte(n), R.length)\n\nrender(<App />, document.getElementById(\"app\"))\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro);\", \"\"]);\n\n// Module\nexports.push([module.id, \"body {\\n  font-family: 'Source Sans Pro', sans-serif;\\n  color: #333;\\n  background-color: #f7f7f7; }\\n\\n.search-form {\\n  height: 100%;\\n  width: 200px;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  overflow-y: scroll; }\\n  .search-form ul {\\n    margin: 0;\\n    padding: 0; }\\n  .search-form li {\\n    list-style-type: none; }\\n    .search-form li.selected {\\n      background-color: #eee; }\\n\\n.match-history .match .home-team {\\n  font-weight: bold;\\n  font-style: italic; }\\n\\n.match-history .win {\\n  color: green; }\\n\\n.match-history .loss {\\n  color: red; }\\n\\n.main-content {\\n  margin-left: 200px; }\\n\\n.player-details .player-avatar {\\n  width: 170px;\\n  height: 170px; }\\n\", \"\"]);\n\n","const React = require(\"karet\")\nconst Kefir = require(\"kefir\")\nconst U = require(\"karet.util\")\nconst R = require(\"ramda\")\n\nconst FaceitClient = require(\"./Faceit.js\")\n\nconst MatchList = ({playerId}) => {\n  const matches = playerId\n    .flatMapLatest(playerId => FaceitClient.getHistory(playerId, \"csgo\"))\n    .map(R.prop(\"items\"))\n    .toProperty(() => [])\n\n  return <div className=\"match-history\">\n    <h2>Match history</h2>\n    {U.mapElemsWithIds(\"match_id\", (match, id) =>\n      <Match key={id} playerId={playerId} matchId={U.view(\"match_id\", match)} />, matches)}\n  </div>\n}\n\nconst Match = ({playerId, matchId}) => {\n  const match = matchId.flatMapLatest(matchId => FaceitClient.getMatch(matchId)).toProperty()\n\n  const team1 = U.view([\"teams\", \"faction1\"], match)\n  const team2 = U.view([\"teams\", \"faction2\"], match)\n\n  const winOrLoss = Kefir.combine([match.filter(R.identity)], [playerId], (match, playerId) => {\n    const myTeam = match.teams.faction1.roster.map(R.prop(\"player_id\")).includes(playerId) ? \"faction1\" : \"faction2\"\n    if (match.results.winner === myTeam) {\n      return <span className=\"win\">WIN</span>\n    } else {\n      return <span className=\"loss\">LOSS</span>\n    }\n  })\n\n  const TeamName = mkTeamName(playerId)\n  return <div className=\"match\">\n    <p>\n      <TeamName team={team1} /> vs <TeamName team={team2} /> ({U.view(\"competition_name\", match)})\n    </p>\n    <p>{U.thru(winOrLoss, U.toProperty)}</p>\n  </div>\n}\n\nconst mkTeamName = playerId => ({team, className}) => {\n  const isHomeTeam = team => Kefir.combine([team], [playerId],\n    (team, playerId) => team.roster.map(R.prop(\"player_id\")).includes(playerId))\n  return <span className={U.cns(className, U.ifElse(isHomeTeam(team), \"home-team\", \"enemy-team\"))}>{U.view(\"name\", team)}</span>\n}\n\nmodule.exports = MatchList\n","const Kefir = require(\"kefir\")\n\nconst API_KEY = \"82592226-3fb7-41cf-941c-7098de7d84c7\"\n\nclass FaceitClient {\n  constructor(apiKey) {\n    this.base = \"https://open.faceit.com/data/v4\"\n    this.apiKey = apiKey\n    this.authHeaders = {\"Authorization\": `Bearer ${this.apiKey}`}\n  }\n\n  searchPlayer(nickname) {\n    return this.callApi(\"GET\", \"/search/players\", {\n      nickname,\n      limit: 25,\n      game: \"csgo\",\n    })\n  }\n\n  getPlayer(playerId) {\n    return this.callApi(\"GET\", `/players/${playerId}`)\n  }\n\n  getHistory(playerId, game) {\n    return this.callApi(\"GET\", `/players/${playerId}/history`, {game})\n  }\n\n  getMatch(matchId) {\n    return this.callApi(\"GET\", `/matches/${matchId}`)\n  }\n\n  getMatchStats(matchId) {\n    return this.callApi(\"GET\", `/matches/${matchId}/stats`)\n  }\n\n  callApi(method, path, params) {\n    const url = `${this.base}${path}?${this.mkQueryString(params)}`\n    return Kefir.fromPromise(\n      fetch(url, {\n        method,\n        headers: this.authHeaders,\n      }).then(_ => _.json())\n    )\n  }\n\n  mkQueryString(paramObject) {\n    if (!paramObject) return \"\"\n\n    const searchParams = new URLSearchParams()\n    Object.entries(paramObject).forEach(([key, value]) =>\n      searchParams.append(key, String(value)))\n    return searchParams.toString()\n  }\n}\n\nmodule.exports = new FaceitClient(API_KEY)\n"],"sourceRoot":""}