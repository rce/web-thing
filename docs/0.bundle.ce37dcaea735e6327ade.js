(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){var r=t(15);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t(17)(r,a);r.locals&&(e.exports=r.locals)},15:function(e,n,t){(n=e.exports=t(16)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro);",""]),n.push([e.i,"body {\n  font-family: 'Source Sans Pro', sans-serif;\n  color: #333;\n  background-color: #f7f7f7; }\n\n.search-form {\n  height: 100%;\n  width: 200px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  overflow-y: scroll; }\n  .search-form li {\n    list-style-type: none; }\n    .search-form li.selected {\n      background-color: #eee; }\n\n.main-content {\n  margin-left: 200px; }\n\n.player-details .player-avatar {\n  width: 170px;\n  height: 170px; }\n",""])},19:function(e,n,t){function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,a=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw l}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=t(2);e.exports=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.base="https://open.faceit.com/data/v4",this.apiKey=n,this.authHeaders={Authorization:"Bearer ".concat(this.apiKey)}}var n,t,o;return n=e,(t=[{key:"searchPlayer",value:function(e){return this.callApi("GET","/search/players",{nickname:e,limit:25,game:"csgo"})}},{key:"getPlayer",value:function(e){return this.callApi("GET","/players/".concat(e))}},{key:"callApi",value:function(e,n,t){var r="".concat(this.base).concat(n,"?").concat(this.mkQueryString(t));return l.fromPromise(fetch(r,{method:e,headers:this.authHeaders}).then(function(e){return e.json()}))}},{key:"mkQueryString",value:function(e){if(!e)return"";var n=new URLSearchParams;return Object.entries(e).forEach(function(e){var t=r(e,2),a=t[0],l=t[1];return n.append(a,String(l))}),n.toString()}}])&&a(n.prototype,t),o&&a(n,o),e}()},8:function(e,n,t){var r=t(5),a=t(10).render,l=t(4).Atom,o=t(20),c=t(2),i=t(21);t(14);var u=new(t(19))("82592226-3fb7-41cf-941c-7098de7d84c7"),s=function(e){var n=e.selection,t=new l(""),a=new l(0),s=t.filter(f(3)).debounce(250).flatMapLatest(function(e){return u.searchPlayer(e)}).map(o.prop("items")).toProperty(function(){return[]});s.onValue(function(){return a.set(0)}),c.combine([a,s],function(e,n){return o.path([e,"player_id"],n)}).onValue(function(e){return n.set(e)});var m,p=s.map(o.complement(o.isEmpty)),h=i.bus(),y=h.filter(function(e){return["ArrowDown","ArrowUp"].includes(e.key)});return c.combine([y,s],function(e,n){var t="ArrowUp"===e.key?o.dec:o.inc;return function(e){return o.min(o.max(0,t(e)),n.length-1)}}).onValue(function(e){return a.modify(e)}),r.createElement("div",{className:"search-form",onKeyDown:(m=h,function(e){e.persist(),m.push(e)}),tabIndex:"0"},r.createElement("input",{type:"text",value:t,onChange:i.getProps({value:t})}),i.ifElse(p,r.createElement("ul",null,i.mapElems(function(e,n){var t=a.map(o.equals(n));return r.createElement("li",{key:n,onClick:function(){return a.set(n)},className:i.cns(i.when(t,"selected"))},i.view("nickname",e))},s)),r.createElement("p",null,"No results")))},m=function(e){var n=e.selection,t=n.flatMapLatest(function(e){return u.getPlayer(e)}).toProperty(function(){}),a=c.combine([n,t],function(e,n){return!n||n.player_id!==e});return r.createElement("div",{className:"player-details"},i.ifElse(a,r.createElement("p",null,"Loading..."),r.createElement("div",null,r.createElement("h2",null,i.view("nickname",t)," (",i.view("country",t),")"),r.createElement("img",{className:"player-avatar",src:i.view("avatar",t)}),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,"Player ID"),r.createElement("td",null,i.view("player_id",t))),r.createElement("tr",null,r.createElement("td",null,"Country"),r.createElement("td",null,i.view("country",t))),i.when(t.map(o.path(["platforms","steam"])),r.createElement("tr",null,r.createElement("td",null,"Steam ID"),r.createElement("td",null,i.view(["platforms","steam"],t)))),i.when(t.map(o.path(["games","csgo","faceit_elo"])),r.createElement("tr",null,r.createElement("td",null,"CSGO elo"),r.createElement("td",null,i.view(["games","csgo","faceit_elo"],t)))))),r.createElement("div",null,r.createElement("h3",null,"Raw"),r.createElement("pre",null,i.stringify(t,null,2))))))},f=function(e){return o.compose(o.lte(e),o.length)};a(r.createElement(function(){var e=new l("");return r.createElement(r.Fragment,null,r.createElement(s,{selection:e}),r.createElement("div",{className:"main-content"},i.ifElse(e,r.createElement(m,{selection:e}),r.createElement("p",null,"Select a player from search results"))))},null),document.getElementById("app"))}},[[8,1,2]]]);
//# sourceMappingURL=0.bundle.ce37dcaea735e6327ade.js.map